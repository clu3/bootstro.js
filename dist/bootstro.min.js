/*! bootstro.js - v1.0.0 - https://github.com/clu3/bootstro.js/issues*/
$(document).ready(function(){!function(a,b){function c(a){var c=b(window).scrollTop(),d=c+b(window).height(),e=a.offset().top,f=e+a.height();return f>=c&&d>=e&&d>=f&&e>=c}function d(a,b){var c,d,e,h=get_element(b);return a+="<div class='bootstro-nav-wrapper'>",c=h.attr("data-bootstro-nextButton")?h.attr("data-bootstro-nextButton"):h.attr("data-bootstro-nextButtonText")?'<button class="btn btn-primary btn-mini bootstro-next-btn">'+h.attr("data-bootstro-nextButtonText")+"</button>":"undefined"!=typeof g.nextButton?g.nextButton:'<button class="btn btn-primary btn-mini bootstro-next-btn">'+g.nextButtonText+"</button>",d=h.attr("data-bootstro-prevButton")?h.attr("data-bootstro-prevButton"):h.attr("data-bootstro-prevButtonText")?'<button class="btn btn-primary btn-mini bootstro-prev-btn">'+h.attr("data-bootstro-prevButtonText")+"</button>":"undefined"!=typeof g.prevButton?g.prevButton:'<button class="btn btn-primary btn-mini bootstro-prev-btn">'+g.prevButtonText+"</button>",e=h.attr("data-bootstro-finishButton")?h.attr("data-bootstro-finishButton"):h.attr("data-bootstro-finishButtonText")?'<button class="btn btn-primary btn-mini bootstro-finish-btn">'+h.attr("data-bootstro-finishButtonText")+"</button>":"undefined"!=typeof g.finishButton?g.finishButton:'<button class="btn btn-primary btn-mini bootstro-finish-btn">'+g.finishButtonText+"</button>",1!=f&&(0==b?a+=c:b==f-1?a+=d:a=a+c+d),a+="</div>",a=a+'<div class="bootstro-finish-btn-wrapper">'+e+"</div>"}var e,f,g,h=null,i={nextButtonText:"Next &raquo;",prevButtonText:"&laquo; Prev",finishButtonText:'<i class="icon-ok"></i> Ok I got it, get back to the site',stopOnBackdropClick:!0,stopOnEsc:!0,margin:100};process_items=function(a){var c=[];return b.each(a,function(a,d){b.each(d,function(a,c){b(d.selector).attr("data-bootstro-"+a,c)}),b(d.selector).is(":visible")&&c.push(d.selector)}),c.join(",")},get_element=function(a){return e.filter("[data-bootstro-step="+a+"]").size()>0?e.filter("[data-bootstro-step="+a+"]"):e.eq(a)},get_popup=function(a){var b={},c=get_element(a),e="";f>1&&(e="<span class='label label-success'>"+(a+1)+"/"+f+"</span>"),b.title=c.attr("data-bootstro-title")||"",""!=b.title&&""!=e?b.title=e+" - "+b.title:""==b.title&&(b.title=e),b.content=c.attr("data-bootstro-content")||"",b.content=d(b.content,a),b.placement=c.attr("data-bootstro-placement")||"top";var g="";return c.attr("data-bootstro-width")&&(b.width=c.attr("data-bootstro-width"),g=g+"width:"+c.attr("data-bootstro-width")+";"),c.attr("data-bootstro-height")&&(b.height=c.attr("data-bootstro-height"),g=g+"height:"+c.attr("data-bootstro-height")+";"),b.trigger="manual",b.html=c.attr("data-bootstro-html")||"top",b.template='<div class="popover" style="'+g+'"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',b},a.destroy_popover=function(a){var a=a||0;if("all"!=a){var b=get_element(a);b.popover("destroy").removeClass("bootstro-highlight")}},a.stop=function(){a.destroy_popover(h),a.unbind(),b("div.bootstro-backdrop").remove(),"function"==typeof g.onExit&&g.onExit.call(this,{idx:h})},a.go_to=function(d){if(a.destroy_popover(h),0!=f){var e=get_popup(d),i=get_element(d);i.popover(e).popover("show");var j=b(window).scrollTop(),k=Math.min(b(".popover.in").offset().top,i.offset().top),l=k-j;l<g.margin?b("html,body").animate({scrollTop:k-g.margin},"slow"):c(b(".popover.in"))&&c(i)||b("html,body").animate({scrollTop:k-g.margin},"slow"),i.addClass("bootstro-highlight"),h=d}},a.next=function(){h+1==f?"function"==typeof g.onComplete&&g.onComplete.call(this,{idx:h}):(a.go_to(h+1),"function"==typeof g.onStep&&g.onStep.call(this,{idx:h,direction:"next"}))},a.prev=function(){0==h||(a.go_to(h-1),"function"==typeof g.onStep&&g.onStep.call(this,{idx:h,direction:"prev"}))},a._start=function(c){c=c||".bootstro",e=b(c),f=e.size(),f>0&&0===b("div.bootstro-backdrop").length&&(b('<div class="bootstro-backdrop"></div>').appendTo("body"),a.bind(),a.go_to(0))},a.start=function(c,d){g=b.extend(!0,{},i),b.extend(g,d||{}),"undefined"!=typeof g.url?b.ajax({url:g.url,success:function(b){if(b.success){var d=b.result;c=process_items(d),a._start(c)}}}):"undefined"!=typeof g.items?a._start(process_items(g.items)):a._start(c)},a.bind=function(){a.unbind(),b("html").on("click.bootstro",".bootstro-next-btn",function(b){return a.next(),b.preventDefault(),!1}),b("html").on("click.bootstro",".bootstro-prev-btn",function(b){return a.prev(),b.preventDefault(),!1}),b("html").on("click.bootstro",".bootstro-finish-btn",function(b){b.preventDefault(),a.stop()}),g.stopOnBackdropClick&&b("html").on("click.bootstro","div.bootstro-backdrop",function(c){b(c.target).hasClass("bootstro-backdrop")&&a.stop()}),b(document).on("keydown.bootstro",function(b){var c=b.keyCode?b.keyCode:b.which;39==c||40==c?a.next():37==c||38==c?a.prev():27==c&&g.stopOnEsc&&a.stop()})},a.unbind=function(){b("html").unbind("click.bootstro"),b(document).unbind("keydown.bootstro")}}(window.bootstro=window.bootstro||{},jQuery)});