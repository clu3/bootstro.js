$(document).ready(function(){!function(a,b,c){function d(a){var c=b(window).scrollTop(),d=c+b(window).height(),e=a.offset().top,f=e+a.height();return f>=c&&d>=e&&d>=f&&e>=c}function e(a,b){var c,d,e,f,i=get_element(b);return f=2==j?"btn btn-primary btn-mini":"btn btn-primary btn-xs",a+="<div class='bootstro-nav-wrapper'>",c=i.attr("data-bootstro-nextButton")?i.attr("data-bootstro-nextButton"):i.attr("data-bootstro-nextButtonText")?'<button class="'+f+' bootstro-next-btn">'+i.attr("data-bootstro-nextButtonText")+"</button>":"undefined"!=typeof h.nextButton?h.nextButton:'<button class="'+f+' bootstro-next-btn">'+h.nextButtonText+"</button>",d=i.attr("data-bootstro-prevButton")?i.attr("data-bootstro-prevButton"):i.attr("data-bootstro-prevButtonText")?'<button class="'+f+' bootstro-prev-btn">'+i.attr("data-bootstro-prevButtonText")+"</button>":"undefined"!=typeof h.prevButton?h.prevButton:'<button class="'+f+' bootstro-prev-btn">'+h.prevButtonText+"</button>",e=i.attr("data-bootstro-finishButton")?i.attr("data-bootstro-finishButton"):i.attr("data-bootstro-finishButtonText")?'<button class="'+f+' bootstro-finish-btn">'+i.attr("data-bootstro-finishButtonText")+"</button>":"undefined"!=typeof h.finishButton?h.finishButton:'<button class="'+f+' bootstro-finish-btn">'+h.finishButtonText+"</button>",1!=g&&(0==b?a+=c:b==g-1?a+=d:a=a+c+d),a+="</div>",a=a+'<div class="bootstro-finish-btn-wrapper">'+e+"</div>"}var f,g,h,i=null,j=3,k={nextButtonText:"Next &raquo;",prevButtonText:"&laquo; Prev",finishButtonText:'<i class="icon-ok"></i> Ok I got it, get back to the site',stopOnBackdropClick:!0,stopOnEsc:!0,margin:100};process_items=function(a){var c=[];return b.each(a,function(a,d){b.each(d,function(a,c){b(d.selector).attr("data-bootstro-"+a,c)}),b(d.selector).is(":visible")&&c.push(d.selector)}),c.join(",")},get_element=function(a){return f.filter("[data-bootstro-step="+a+"]").size()>0?f.filter("[data-bootstro-step="+a+"]"):f.eq(a)},get_popup=function(a){var b={},c=get_element(a),d="";g>1&&(d="<span class='label label-success'>"+(a+1)+"/"+g+"</span>"),b.title=c.attr("data-bootstro-title")||"",""!=b.title&&""!=d?b.title=d+" - "+b.title:""==b.title&&(b.title=d),b.content=c.attr("data-bootstro-content")||"",b.content=e(b.content,a),b.placement=c.attr("data-bootstro-placement")||"top";var f="";return c.attr("data-bootstro-width")&&(b.width=c.attr("data-bootstro-width"),f=f+"width:"+c.attr("data-bootstro-width")+";"),c.attr("data-bootstro-height")&&(b.height=c.attr("data-bootstro-height"),f=f+"height:"+c.attr("data-bootstro-height")+";"),b.trigger="manual",b.html=c.attr("data-bootstro-html")||"top",c.attr("data-bootstro-container")&&(b.container=c.attr("data-bootstro-container")),b.template='<div class="popover" style="'+f+'"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',b},a.destroy_popover=function(a){var a=a||0;if("all"!=a){var b=get_element(a);b.popover("destroy").removeClass("bootstro-highlight")}},a.stop=function(){a.destroy_popover(i),a.unbind(),b("div.bootstro-backdrop").remove(),"function"==typeof h.onExit&&h.onExit.call(this,{idx:i})},a.go_to=function(c){if(a.destroy_popover(i),0!=g){var e=get_popup(c),f=get_element(c);f.popover(e).popover("show");var j=b(window).scrollTop(),k=Math.min(b(".popover.in").offset().top,f.offset().top),l=k-j;l<h.margin?b("html,body").animate({scrollTop:k-h.margin},"slow"):d(b(".popover.in"))&&d(f)||b("html,body").animate({scrollTop:k-h.margin},"slow"),f.addClass("bootstro-highlight"),i=c}},a.next=function(){i+1==g?"function"==typeof h.onComplete&&h.onComplete.call(this,{idx:i}):("function"==typeof h.onStep&&h.onStep.call(this,{idx:i,direction:"next"}),a.go_to(i+1))},a.prev=function(){0==i||("function"==typeof h.onStep&&h.onStep.call(this,{idx:i,direction:"prev"}),a.go_to(i-1))},a._start=function(c){c=c||".bootstro",f=b(c),g=f.size(),g>0&&0===b("div.bootstro-backdrop").length&&(b('<div class="bootstro-backdrop"></div>').appendTo("body"),a.bind(),a.go_to(0))},a.start=function(c,d){h=b.extend(!0,{},k),b.extend(h,d||{}),"undefined"!=typeof h.url?b.ajax({url:h.url,success:function(b){if(b.success){var d=b.result;c=process_items(d),a._start(c)}}}):"undefined"!=typeof h.items?a._start(process_items(h.items)):a._start(c)},a.set_bootstrap_version=function(a){j=a},a.bind=function(){a.unbind(),b("html").on("click.bootstro",".bootstro-next-btn",function(b){return a.next(),b.preventDefault(),!1}),b("html").on("click.bootstro",".bootstro-prev-btn",function(b){return a.prev(),b.preventDefault(),!1}),b("html").on("click.bootstro",".bootstro-finish-btn",function(b){b.preventDefault(),a.stop()}),h.stopOnBackdropClick&&b("html").on("click.bootstro","div.bootstro-backdrop",function(c){b(c.target).hasClass("bootstro-backdrop")&&a.stop()}),b(document).on("keydown.bootstro",function(b){var c=b.keyCode?b.keyCode:b.which;39==c||40==c?a.next():37==c||38==c?a.prev():27==c&&h.stopOnEsc&&a.stop()})},a.unbind=function(){b("html").unbind("click.bootstro"),b(document).unbind("keydown.bootstro")}}(window.bootstro=window.bootstro||{},jQuery)});